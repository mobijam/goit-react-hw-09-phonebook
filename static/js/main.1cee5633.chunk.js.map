{"version":3,"sources":["redux/auth/auth-actions.js","redux/auth/auth-operations.js","redux/auth/auth-reducer.js","redux/auth/auth-selectors.js","components/UI/Loader/Loader.module.css","components/Container/Container.module.css","redux/contacts/actions.js","views/HomeView.module.css","components/AppBar/Navigation.module.css","views/HomeView.js","redux/contacts/reducer.js","redux/store.js","Router/routes.js","components/AppBar/Navigation.js","components/AppBar/AuthNav.js","img/default-avatar.png","components/AppBar/UserMenu.js","components/AppBar/AppBar.js","Router/PrivateRoute.js","Router/PublicRoute.js","components/UI/Loader/Preloader.js","Router/Router.js","components/Container/Container.js","App.js","index.js"],"names":["registerRequest","createAction","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","axios","defaults","baseURL","token","headers","common","Authorization","register","credentials","dispatch","a","authActions","post","data","response","statusText","status","message","errorMessage","toast","error","login","logout","getCurrentUser","getState","persistedToken","auth","get","initialUserState","name","email","setUser","_","payload","user","setToken","setError","createReducer","isAuthenticated","combineReducers","getIsAuthenticated","state","getUserName","getError","getToken","module","exports","fetchContactRequest","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","editContactRequest","editContactSuccess","editContactError","changeFilter","changeSorting","HomeView","className","s","title","items","filter","id","sorter","loading","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","contactsReducer","devTools","process","persistor","persistStore","Navigation","isLoggedIn","useSelector","authSelectors","to","routes","exact","link","activeClassName","activeLink","AuthNav","UserMenu","avatar","defaultAvatar","useDispatch","onLogout","useCallback","authOperations","userMenu","src","alt","headerBtn","type","onClick","AppBar","header","PrivateRoute","children","redirectTo","routeProps","hasToken","PublicRoute","restricted","Preloader","preloader","preloader__image","role","xmlns","viewBox","fill","d","lazy","RegisterView","LoginView","ContactsView","Router","fallback","path","Container","section","mainContainer","App","useEffect","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1cee5633.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nexport default {\r\n    registerRequest,\r\n    registerSuccess,\r\n    registerError,\r\n    loginRequest,\r\n    loginSuccess,\r\n    loginError,\r\n    logoutRequest,\r\n    logoutSuccess,\r\n    logoutError,\r\n    getCurrentUserRequest,\r\n    getCurrentUserSuccess,\r\n    getCurrentUserError,\r\n};","import axios from 'axios';\r\nimport authActions from './auth-actions';\r\nimport { toast } from 'react-toastify';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com';\r\n\r\nconst token = {\r\n    set(token) {\r\n        axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n    },\r\n    unset() {\r\n        axios.defaults.headers.common.Authorization = '';\r\n    }\r\n}\r\n\r\nconst register = credentials => async dispatch => {\r\n    dispatch(authActions.registerRequest());\r\n\r\n    try {\r\n        const { data } = await axios.post('/users/signup', credentials);\r\n        token.set(data.token);\r\n        dispatch(authActions.registerSuccess(data));\r\n    } catch (error) {\r\n        const { statusText, status, data } = error.response;\r\n        const message = data.message ? data.message : 'User with this email is already registered'\r\n        const errorMessage = `${status} ${statusText}: ${message}`;\r\n        dispatch(authActions.registerError(error.message));\r\n        return toast.error(errorMessage);\r\n    };\r\n};\r\n\r\nconst login = credentials => async dispatch => {\r\n    dispatch(authActions.loginRequest());\r\n\r\n    try {\r\n        const { data } = await axios.post('/users/login', credentials);\r\n        token.set(data.token);\r\n        dispatch(authActions.loginSuccess(data));\r\n    } catch (error) {\r\n        const { statusText, status } = error.response;\r\n        const errorMessage = `${status} ${statusText}`;\r\n        dispatch(authActions.loginError(error.message));\r\n        return toast.error(errorMessage);\r\n    };\r\n};\r\n\r\nconst logout = () => async dispatch => {\r\n    dispatch(authActions.logoutRequest());\r\n\r\n    try {\r\n        await axios.post('/users/logout');\r\n        token.unset();\r\n        dispatch(authActions.logoutSuccess());\r\n    } catch (error) {\r\n        dispatch(authActions.logoutError(error.message));\r\n    };\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n    const { auth: { token: persistedToken } } = getState();\r\n\r\n    if (!persistedToken) {\r\n        return;\r\n    }\r\n\r\n    token.set(persistedToken);\r\n    dispatch(authActions.getCurrentUserRequest());\r\n\r\n    try {\r\n        const { data } = await axios.get('/users/current');\r\n        dispatch(authActions.getCurrentUserSuccess(data));\r\n    } catch (error) {\r\n        dispatch(authActions.getCurrentUserError(error.message));\r\n    }\r\n}\r\n\r\nexport default {\r\n    register,\r\n    login,\r\n    logout,\r\n    getCurrentUser,\r\n}","import { combineReducers } from \"redux\";\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './auth-actions';\r\n\r\nconst initialUserState = { name: null, email: null };\r\n\r\nconst setUser = (_, { payload }) => payload.user;\r\nconst setToken = (_, { payload }) => payload.token;\r\nconst setError = (_, { payload }) => payload;\r\n\r\nconst user = createReducer(initialUserState, {\r\n    [authActions.registerSuccess]: setUser,\r\n    [authActions.loginSuccess]: setUser,\r\n    [authActions.logoutSuccess]: () => initialUserState,\r\n    [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n    [authActions.registerSuccess]: setToken,\r\n    [authActions.loginSuccess]: setToken,\r\n    [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n    [authActions.registerError]: setError,\r\n    [authActions.loginError]: setError,\r\n    [authActions.logoutError]: setError,\r\n    [authActions.getCurrentUserError]: setError,\r\n});\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n    [authActions.registerSuccess]: () => true,\r\n    [authActions.loginSuccess]: () => true,\r\n    [authActions.getCurrentUserSuccess]: () => true,\r\n    [authActions.registerError]: () => false,\r\n    [authActions.loginError]: () => false,\r\n    [authActions.getCurrentUserError]: () => false,\r\n    [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n    user,\r\n    token,\r\n    isAuthenticated,\r\n    error,\r\n});","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nconst getError = state => state.auth.error;\r\n\r\nconst getToken = state => !!state.auth.token;\r\n\r\nexport default {\r\n    getIsAuthenticated,\r\n    getUserName,\r\n    getError,\r\n    getToken\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__aASBH\",\"preloader\":\"Loader_preloader__3cZr-\",\"preloader__image\":\"Loader_preloader__image__1-tw3\",\"preloader-rotate\":\"Loader_preloader-rotate__11ZmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colors\":\"'../../styles/variables/colors.css'\",\"mainColor\":\"#fff\",\"mainContainer\":\"Container_mainContainer__2nu4G\",\"section\":\"Container_section__24937\",\"container\":\"Container_container__3Zu3f\",\"titleWrapper\":\"Container_titleWrapper__1eC0O\",\"mainTitle\":\"Container_mainTitle__2R2O_\",\"childContainer\":\"Container_childContainer__2YQPh\",\"appear\":\"Container_appear__QOGso\",\"appearActive\":\"Container_appearActive__3kF6X\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactRequest = createAction('contacts/fetchContactRequest');\r\nexport const fetchContactSuccess = createAction('contacts/fetchContactSuccess');\r\nexport const fetchContactError = createAction('contacts/fetchContactError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const editContactRequest = createAction('contacts/editContactRequest');\r\nexport const editContactSuccess = createAction('contacts/editContactSuccess');\r\nexport const editContactError = createAction('contacts/editContactError');\r\n\r\nexport const changeFilter = createAction('contacts/ChangeFilter');\r\nexport const changeSorting = createAction('contacts/ChangeSorting');","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HomeView_title__1FxBg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colors\":\"'../../styles/variables/colors.css'\",\"bgColor\":\"#370617\",\"accentColor\":\"#34a0a4\",\"activeBtnColor\":\"#B4B8C5\",\"header\":\"Navigation_header__2a7pu\",\"link\":\"Navigation_link__3oOdM\",\"activeLink\":\"Navigation_activeLink__1I1Ky\",\"userMenu\":\"Navigation_userMenu__3DP8X\",\"headerBtn\":\"Navigation_headerBtn__2AIL6\",\"avatar\":\"Navigation_avatar__1Lgmp\"};","import React from 'react';\r\nimport s from './HomeView.module.css';\r\n\r\n\r\nconst HomeView = () => {\r\n    return (\r\n        <h1 className={s.title}>Welcome to Phonebook!</h1>\r\n    );\r\n};\r\n\r\nexport default HomeView;","import { combineReducers } from \"redux\";\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n    addContactRequest, \r\n    addContactSuccess, \r\n    addContactError, \r\n    deleteContactRequest, \r\n    deleteContactSuccess, \r\n    deleteContactError,\r\n    editContactRequest, \r\n    editContactSuccess, \r\n    editContactError, \r\n    fetchContactRequest, \r\n    fetchContactSuccess, \r\n    fetchContactError,\r\n    changeFilter, \r\n    changeSorting\r\n} from './actions';\r\n\r\nconst items = createReducer([], {\r\n    [fetchContactSuccess]: (_, {payload}) => payload,\r\n    [addContactSuccess]: (state, { payload }) => [...state, payload],\r\n    [deleteContactSuccess]: (state, { payload }) => state.filter(({ id }) => id !== payload),\r\n    [editContactSuccess]: (state, { payload }) => [...state, payload],\r\n});\r\n\r\nconst filter = createReducer('', {\r\n    [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst sorter = createReducer('date', {\r\n    [changeSorting]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n    [fetchContactRequest]: () => true,\r\n    [fetchContactSuccess]: () => false,\r\n    [fetchContactError]: () => false,\r\n    [addContactRequest]: () => true,\r\n    [addContactSuccess]: () => false,\r\n    [addContactError]: () => false,\r\n    [deleteContactRequest]: () => true,\r\n    [deleteContactSuccess]: () => false,\r\n    [deleteContactError]: () => false,\r\n    [editContactRequest]: () => true,\r\n    [editContactSuccess]: () => false, \r\n    [editContactError]: () => false, \r\n});\r\n\r\nconst error = createReducer(null, {\r\n    [fetchContactError]: (_, { payload }) => payload,\r\n    [addContactError]: (_, { payload }) => payload,\r\n    [deleteContactError]: (_, { payload }) => payload,\r\n    [editContactError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n    items,\r\n    filter,\r\n    sorter,\r\n    loading,\r\n    error,\r\n});","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport {\r\n    persistStore,\r\n    persistReducer,\r\n    FLUSH,\r\n    REHYDRATE,\r\n    PAUSE,\r\n    PERSIST,\r\n    PURGE,\r\n    REGISTER\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport logger from 'redux-logger';\r\nimport contactsReducer from './contacts/reducer';\r\nimport { authReducer } from './auth';\r\n\r\nconst middleware = [\r\n    ...getDefaultMiddleware({\r\n        serializableCheck: {\r\n            ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER]\r\n        }\r\n    }),\r\n    // logger\r\n];\r\n\r\nconst authPersistConfig = {\r\n    key: 'auth',\r\n    storage,\r\n    whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        auth: persistReducer(authPersistConfig, authReducer),\r\n        contacts: contactsReducer,\r\n    },\r\n    middleware,\r\n    devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport default {store, persistor};","export default {\r\n    home: '/',\r\n    register: '/register',\r\n    login: '/login',\r\n    contacts: '/contacts',\r\n};","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport routes from '../../Router/routes';\r\nimport s from './Navigation.module.css';\r\n\r\nexport default function Navigation() {\r\n    const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n    return (\r\n        <nav>\r\n            <NavLink to={routes.home} exact className={s.link} activeClassName={s.activeLink}>\r\n                Homepage\r\n            </NavLink>\r\n\r\n            {isLoggedIn &&\r\n                <NavLink\r\n                    to={routes.contacts}\r\n                    exact\r\n                    className={s.link}\r\n                    activeClassName={s.activeLink}\r\n                >\r\n                    Contacts\r\n                </NavLink>\r\n            }\r\n        </nav>\r\n    );\r\n};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport routes from '../../Router/routes';\r\nimport s from './Navigation.module.css';\r\n\r\nconst AuthNav = () => {\r\n    return (\r\n        <div>\r\n            <NavLink\r\n                to={routes.register}\r\n                exact\r\n                className={s.link}\r\n                activeClassName={s.activeLink}\r\n            >\r\n                Registration\r\n            </NavLink>\r\n            <NavLink\r\n                to={routes.login}\r\n                exact\r\n                className={s.link}\r\n                activeClassName={s.activeLink}\r\n            >\r\n                Login\r\n            </NavLink>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AuthNav;","export default __webpack_public_path__ + \"static/media/default-avatar.1f3ac9bc.png\";","import React, { useCallback } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { authSelectors, authOperations } from '../../redux/auth';\r\nimport defaultAvatar from '../../img/default-avatar.png';\r\nimport s from './Navigation.module.css';\r\n\r\nexport default function UserMenu() {\r\n    const avatar = defaultAvatar;\r\n    const dispatch = useDispatch();\r\n    const name = useSelector(authSelectors.getUserName);\r\n    \r\n    const onLogout = useCallback(() => {\r\n        dispatch(authOperations.logout());\r\n    },[dispatch]);\r\n\r\n    return (\r\n        <div className={s.userMenu}>\r\n            <img className={s.avatar} src={avatar} alt={name} />\r\n            <span className={s.link}>Welcome, {name}</span>\r\n            <button className={s.headerBtn} type=\"button\" onClick={onLogout}>Logout</button>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../../redux/auth';\r\nimport Navigation from './Navigation';\r\nimport AuthNav from './AuthNav';\r\nimport UserMenu from './UserMenu';\r\nimport s from './Navigation.module.css';\r\n\r\nexport default function AppBar() {\r\n    const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n\r\n    return (\r\n        <header className={s.header}>\r\n            <Navigation />\r\n            {isLoggedIn ? <UserMenu /> : <AuthNav />}\r\n        </header>\r\n    );\r\n};","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PrivateRoute ({\r\n    children,\r\n    redirectTo,\r\n    ...routeProps\r\n}) {\r\n    const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n    const hasToken = useSelector(authSelectors.getToken);\r\n    return (\r\n        <Route {...routeProps}>\r\n            {isLoggedIn || hasToken\r\n                ? children\r\n                : <Redirect to={redirectTo} />    \r\n            }\r\n        </Route>\r\n    );\r\n};","import { Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { authSelectors } from '../redux/auth';\r\n\r\nexport default function PublicRoute ({\r\n    children,\r\n    redirectTo,\r\n    ...routeProps\r\n}) {\r\n    const isLoggedIn = useSelector(authSelectors.getIsAuthenticated);\r\n    \r\n    return (\r\n        <Route {...routeProps}>\r\n            {isLoggedIn && routeProps.restricted\r\n                ? <Redirect to={redirectTo} />\r\n                : children\r\n            }\r\n        </Route>\r\n    )\r\n};","import React from 'react';\r\nimport s from './Loader.module.css';\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={s.preloader}>\r\n            <svg className={s.preloader__image} role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\r\n                <path fill=\"currentColor\"\r\n                d=\"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z\">\r\n                </path>\r\n            </svg>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","import React, { Suspense, lazy } from 'react';\r\nimport { Switch } from 'react-router-dom';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport PublicRoute from './PublicRoute';\r\nimport routes from './routes';\r\nimport Preloader from '../components/UI/Loader/Preloader';\r\n\r\nconst HomeView = lazy(() =>\r\n  import('../views/HomeView.js' /* webpackChunkName: \"home-page\" */),\r\n);\r\nconst RegisterView = lazy(() =>\r\n  import('../views/RegisterView.js' /* webpackChunkName: \"register-page\" */),\r\n);\r\nconst LoginView = lazy(() =>\r\n  import('../views/LoginView.js' /* webpackChunkName: \"login-page\" */),\r\n);\r\n\r\nconst ContactsView = lazy(() =>\r\n  import('../views/ContactsView.js' /* webpackChunkName: \"contacts-page\" */)\r\n);\r\n\r\nconst Router = () => {\r\n  return (\r\n    <Suspense fallback={<Preloader />}>\r\n        <Switch>\r\n            <PublicRoute path={routes.home} exact>\r\n              <HomeView/>\r\n            </PublicRoute>\r\n            <PublicRoute \r\n              path={routes.register}\r\n              restricted\r\n              redirectTo={routes.contacts} \r\n            >\r\n              <RegisterView/>\r\n            </PublicRoute>\r\n            <PublicRoute\r\n              path={routes.login} \r\n              restricted \r\n              redirectTo={routes.contacts} \r\n            >\r\n              <LoginView/>\r\n            </PublicRoute>\r\n            <PrivateRoute \r\n              path={routes.contacts}\r\n              redirectTo={routes.login} \r\n            >\r\n              <ContactsView/>\r\n            </PrivateRoute>\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default Router;","import React from 'react';\r\nimport s from './Container.module.css';\r\n\r\nexport default function Container({ children }) {\r\n  return (\r\n    <section className={s.section}>\r\n      <div className={s.mainContainer}>\r\n        {children}\r\n      </div>\r\n    </section>\r\n  )\r\n}","import { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport { authOperations } from './redux/auth';\r\nimport AppBar from './components/AppBar/AppBar';\r\nimport Router from './Router/Router';\r\nimport Container from './components/Container/Container';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(authOperations.getCurrentUser());\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <>\r\n      <AppBar />\r\n      <Container>\r\n        <Router />\r\n        <ToastContainer autoClose={3000}/>\r\n      </Container>\r\n    </>\r\n  );\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport store from './redux/store';\r\nimport App from './App';\r\nimport Home from './views/HomeView';\r\n\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './styles/index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store.store}>\r\n      <PersistGate\r\n        loading={null}\r\n        persistor={store.persistor}\r\n      >\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>,\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}